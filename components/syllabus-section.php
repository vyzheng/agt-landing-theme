<?php
// Define all chapters data
$strategizer_chapters = [
    [
        'number' => 1,
        'type' => 'theory',
        'title' => 'Game Theory A',
        'subtitle' => 'Why perfect students fail and how Ivies think like VCs, not Fortune 500s',
        'lessons' => [
            ['title' => 'Meet the players', 'desc' => 'Until you understand why Ivies act the way they do, the entire college application process will continue to feel rigged—against you.'],
            ['title' => 'How Ivies get scored by U.S. news: ranking demystified', 'desc' => 'Ivy colleges are chasing things you\'ll never find on your transcript—and if you don\'t know what they are, you\'re falling behind.'],
            ['title' => 'Why perfect students fail: Ivies think like VCs, not Fortune 500s', 'desc' => 'Think of your application as a pitch deck. Are you playing it safe or showing signs of breakout success?'],
            ['title' => 'College admissions is a signaling game', 'desc' => 'You\'re judged on how well you signal your potential—not just what you\'ve done.']
        ]
    ],
    [
        'number' => 2,
        'type' => 'theory',
        'title' => 'Game Theory B',
        'subtitle' => 'The hidden 1-5 scoring system that determines everything',
        'lessons' => [
            ['title' => 'Day in the life of a college application: Who decides if you get in?', 'desc' => 'Understand how your application gets read and who you need to win over => first reader'],
            ['title' => 'How AO really grade your application', 'desc' => 'See the 1-5 scale that determines everything from academics to extracurriculars, sports, and personal'],
            ['title' => 'You don\'t need to be perfect to get in', 'desc' => 'Chasing perfection spreads you thin. A sharp mix of strengths gets you better results.'],
            ['title' => 'Don\'t just work hard, work smart', 'desc' => 'Top applicants don\'t try to do it all. They focus on what matters most and build a personal brand that makes it count.']
        ]
    ],
    [
        'number' => 3,
        'type' => 'theory',
        'title' => 'Academics',
        'subtitle' => 'When to stop studying—perfect scores won\'t make you stand out',
        'lessons' => [
            ['title' => 'Why you should pay attention to your SATs', 'desc' => 'Great academics open the right doors from top jobs to elite incomes!'],
            ['title' => 'Know when to stop studying', 'desc' => 'Perfect grades and test scores won\'t make you stand out. Learn when to stop studying'],
            ['title' => 'Top scores don\'t get you in. Low scores keep you out', 'desc' => 'The Ivy Leagues expect academic excellence, so they treat it as a guardrail, not a differentiator'],
            ['title' => 'Stop obsessing. Start strategizing', 'desc' => 'Once you clear the academic bar, what matters most is how you think, lead, and build.']
        ]
    ],
    [
        'number' => 4,
        'type' => 'ec',
        'title' => 'EC Principles',
        'subtitle' => 'How ECs are graded and the ROI framework for evaluating activities',
        'lessons' => [
            ['title' => 'How ECs are actually graded', 'desc' => 'EC activities are evaluated based on impact, not effort. Here\'s the grading rubric AOs use to decide your fate.'],
            ['title' => 'Thought experiment: Imagine you\'re a Venture Capitalist, who would you invest in?', 'desc' => 'The right EC shows your domain leadership with clear direction, momentum and real impact.'],
            ['title' => 'Here\'s an ROI framework for evaluating ECs before you commit', 'desc' => 'Some ECs are not worth the tradeoffs. Do not commit unless the benefit outweighs the cost.']
        ]
    ],
    [
        'number' => 5,
        'type' => 'ec',
        'title' => 'EC Sports',
        'subtitle' => 'When sports help, when they hurt, and when to scale back',
        'hidden' => false
    ],
    [
        'number' => 6,
        'type' => 'ec',
        'title' => 'EC Academic Competition',
        'subtitle' => 'The hidden costs of Olympiads and when they\'re worth the grind',
        'hidden' => false
    ],
    [
        'number' => 7,
        'type' => 'ec',
        'title' => 'EC Research & Internships',
        'subtitle' => 'What separates high-impact work from résumé filler',
        'hidden' => true
    ],
    [
        'number' => 8,
        'type' => 'ec',
        'title' => 'EC Instruments',
        'subtitle' => 'Why music is often a high-effort, low-return strategy',
        'hidden' => true
    ],
    [
        'number' => 9,
        'type' => 'ec',
        'title' => 'EC Volunteer: Traditional',
        'subtitle' => 'How to make volunteering count when everyone else is doing it too',
        'hidden' => true
    ],
    [
        'number' => 10,
        'type' => 'ec',
        'title' => 'EC Volunteer: Social Entrepreneurship',
        'subtitle' => 'Turn passion into impact with measurable results',
        'hidden' => true
    ],
    [
        'number' => 11,
        'type' => 'ec',
        'title' => 'EC Student Clubs',
        'subtitle' => 'When leadership positions actually matter (and when they don\'t)',
        'hidden' => true
    ],
    [
        'number' => 12,
        'type' => 'ec',
        'title' => 'EC DIY',
        'subtitle' => 'Create your own path when traditional ECs don\'t fit',
        'hidden' => true
    ],
    [
        'number' => 13,
        'type' => 'ec',
        'title' => 'EC DIY + AI',
        'subtitle' => 'Leverage AI tools to build impressive projects at scale',
        'hidden' => true
    ],
    [
        'number' => 14,
        'type' => 'theory',
        'title' => 'Letters of Recommendation',
        'subtitle' => 'How to get letters that actually move the needle',
        'hidden' => true
    ]
];

$storyteller_chapters = [
    [
        'number' => 15,
        'type' => 'essay',
        'title' => 'Essay Principles',
        'subtitle' => 'The outsized role essays play and the secret to writing successful college essays',
        'lessons' => [
            ['title' => 'Essays can make or break your most important application rating', 'desc' => 'Before handing in your application, make sure your essay can boost your application'],
            ['title' => 'Why most clever essays fail', 'desc' => 'Don\'t prioritize style over substance—it\'s a trap, but we have the solution'],
            ['title' => 'Why college essays are similar to marketing', 'desc' => 'Understand the first principles of marketing to get admissions officers\' buy-in quickly'],
            ['title' => 'How to be authentic, memorable and effective', 'desc' => 'Learn the proven 5-step framework to write essays that win over admissions officers']
        ]
    ],
    [
        'number' => 16,
        'type' => 'essay',
        'title' => 'Essay 1A: Background or Identity',
        'subtitle' => 'Turn your background into a powerful admissions-worthy story with specific problems and real impact',
        'lessons' => [
            ['title' => 'Don\'t just describe the problem, show how you solved it', 'desc' => 'Focus on action—not just adversity, to turn your background into a powerful admissions-worthy story.', 'label' => 'Sample 1'],
            ['title' => 'How to fail immediately: skip the problem, gloss over the impact', 'desc' => 'Without specificity, a good story can fall short. Be clear about your why, what, and how.', 'label' => 'Sample 2'],
            ['title' => 'How to fail immediately: Use broad judgments and sweeping generalizations', 'desc' => 'Big-picture reflections without a clear problem or real action make your essay sound smart—but forgettable', 'label' => 'Sample 3']
        ],
        'summary' => 'From lived experience to winning essay: Vague stories and philosophical reflections won\'t cut it. Specific problems and real-world impact win any day.'
    ],
    [
        'number' => 17,
        'type' => 'essay',
        'title' => 'Essay 1B: Interest and Talent',
        'subtitle' => 'Why career-aligned interests make stronger personal brands and how to showcase leadership skills',
        'hidden' => false
    ],
    [
        'number' => 18,
        'type' => 'essay',
        'title' => 'Essay 2: Overcoming Adversity',
        'subtitle' => 'Show mature problem-solving and growth through meaningful challenges',
        'hidden' => false
    ],
    [
        'number' => 19,
        'type' => 'essay',
        'title' => 'Essay 3: Challenging a Belief',
        'subtitle' => 'Why empathy, dialogue, and curiosity beat being "right" every time',
        'hidden' => false
    ],
    [
        'number' => 20,
        'type' => 'essay',
        'title' => 'Essay 4: Expressing Gratitude',
        'subtitle' => 'Focus on your growth, not just kindness—admission officers want to see transformation',
        'hidden' => true
    ],
    [
        'number' => 21,
        'type' => 'essay',
        'title' => 'Essay 5: Personal Growth',
        'subtitle' => 'Show real change with demonstrated action and impact—introspection alone won\'t get you in',
        'hidden' => true
    ],
    [
        'number' => 22,
        'type' => 'essay',
        'title' => 'Essay 6: Curiosity',
        'subtitle' => 'Turn curiosity into action with initiative, follow-through, and clear direction',
        'hidden' => true
    ]
];

// Function to render chapter
function renderChapter($chapter, $course_type) {
    $type_class = $chapter['type'] == 'ec' ? 'ec-chapter' : ($chapter['type'] == 'theory' ? 'theory-chapter' : '');
    $hidden_class = isset($chapter['hidden']) && $chapter['hidden'] ? 'hidden ' . $course_type . '-hidden' : '';
    ?>
    <div class="chapter-item <?php echo $type_class . ' ' . $hidden_class; ?>">
        <div class="chapter-header" onclick="toggleChapter(this)">
            <div class="chapter-number"><?php echo $chapter['number']; ?></div>
            <div class="chapter-info">
                <h4 class="chapter-title"><?php echo $chapter['title']; ?></h4>
                <p class="chapter-subtitle"><?php echo $chapter['subtitle']; ?></p>
            </div>
            <div class="chapter-toggle">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
            </div>
        </div>
        <div class="chapter-content">
            <div class="chapter-inner">
                <?php if (isset($chapter['lessons']) && !empty($chapter['lessons'])): ?>
                    <div class="lessons-list">
                        <?php foreach ($chapter['lessons'] as $index => $lesson): ?>
                            <div class="lesson-item">
                                <div class="lesson-header">
                                    <span class="lesson-number"><?php echo isset($lesson['label']) ? $lesson['label'] : 'Lesson ' . ($index + 1); ?></span>
                                    <div class="lesson-content">
                                        <h5 class="lesson-title"><?php echo $lesson['title']; ?></h5>
                                        <p class="lesson-description"><?php echo $lesson['desc']; ?></p>
                                    </div>
                                </div>
                            </div>
                        <?php endforeach; ?>
                    </div>
                    <?php if (isset($chapter['summary'])): ?>
                        <div class="chapter-summary">
                            <div class="summary-label">Summary</div>
                            <div class="summary-text"><?php echo $chapter['summary']; ?></div>
                        </div>
                    <?php endif; ?>
                <?php else: ?>
                    <!-- Placeholder for chapters without detailed lessons yet -->
                    <div class="lessons-list">
                        <p style="padding: 20px; color: #6b7280; font-style: italic;">Full lesson content coming soon...</p>
                    </div>
                <?php endif; ?>
            </div>
        </div>
    </div>
    <?php
}
?>

<!-- Syllabus Section -->
<section class="syllabus-section">
    <div class="syllabus-container">
        <div class="syllabus-header">
            <h2 class="syllabus-title">Flagship Course Curriculum</h2>
            <p class="syllabus-subtitle">
                Get both Master Strategizer + Master Storyteller. Click any chapter to explore lessons and see exactly what you'll learn.
            </p>
        </div>

        <!-- Progress Overview -->
        <div class="progress-bar">
            <div class="progress-item">
                <span class="progress-number">22</span>
                <span class="progress-label">Chapters</span>
            </div>
            <div class="progress-item">
                <span class="progress-number">100+</span>
                <span class="progress-label">Lessons</span>
            </div>
            <div class="progress-item">
                <span class="progress-number">50+</span>
                <span class="progress-label">Examples</span>
            </div>
            <div class="progress-item">
                <span class="progress-number">15hrs</span>
                <span class="progress-label">Content</span>
            </div>
        </div>

        <!-- Flagship Course CTA -->
        <div class="flagship-cta-section">
            <div class="flagship-badge">BEST VALUE</div>
            <h3 class="flagship-title">Get Everything: Flagship Course</h3>
            <p class="flagship-description">
                Both Master Strategizer + Master Storyteller.<br>
                All 22 chapters to ace Ivy League admissions.
            </p>
            <div class="flagship-price">$699</div>
            <a href="https://buy.stripe.com/8x214mgrmdY98MVcr1aAw00" class="flagship-button">Get Instant Access</a>
            <p class="flagship-guarantee">100% satisfaction guarantee & money-back promise</p>
        </div>

        <!-- Master Strategizer Course -->
        <div class="course-block">
            <div class="course-header">
                <span class="course-badge strategizer-badge">Part 1 of Flagship</span>
                <h3 class="course-title">Master Strategizer</h3>
                <p class="course-description">
                    Learn how every part of your application is evaluated. Build a clear personal brand and plan a winning strategy that leverages your strengths.
                </p>
            </div>

            <div class="chapters-list">
                <?php foreach ($strategizer_chapters as $chapter): ?>
                    <?php renderChapter($chapter, 'strategizer'); ?>
                <?php endforeach; ?>
            </div>

            <button class="show-more-button" onclick="toggleStrategizerChapters()">Show All 14 Chapters</button>

            <!-- Course CTA -->
            <div class="course-cta-section">
                <a href="#" class="cta-preview">Also available individually for $399 →</a>
            </div>
        </div>

        <!-- Bundle Divider -->
        <div class="bundle-divider">
            <div class="divider-line"></div>
            <span class="divider-text">both included in flagship</span>
        </div>

        <!-- Master Storyteller Course -->
        <div class="course-block">
            <div class="course-header">
                <span class="course-badge storyteller-badge">Part 2 of Flagship</span>
                <h3 class="course-title">Master Storyteller</h3>
                <p class="course-description">
                    Craft compelling essays that win over admission officers. Discover the hidden grading rubric and master the winning frameworks for each prompt.
                </p>
            </div>

            <div class="chapters-list">
                <?php foreach ($storyteller_chapters as $chapter): ?>
                    <?php renderChapter($chapter, 'storyteller'); ?>
                <?php endforeach; ?>
            </div>

            <button class="show-more-button" onclick="toggleStorytellerChapters()">Show All 8 Chapters</button>

            <!-- Course CTA -->
            <div class="course-cta-section">
                <a href="#" class="cta-preview">Also available individually for $399 →</a>
            </div>
        </div>
    </div>
</section>